(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{179:function(t,s,a){"use strict";a(180);var n=a(10),e=a(88),r=a(9),o=/./.toString,p=function(t){a(29)(RegExp.prototype,"toString",t,!0)};a(14)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?p(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?e.call(t):void 0)}):"toString"!=o.name&&p(function(){return o.call(this)})},180:function(t,s,a){a(9)&&"g"!=/./g.flags&&a(30).f(RegExp.prototype,"flags",{configurable:!0,get:a(88)})},181:function(t,s,a){var n=Date.prototype,e=n.toString,r=n.getTime;new Date(NaN)+""!="Invalid Date"&&a(29)(n,"toString",function(){var t=r.call(this);return t==t?e.call(this):"Invalid Date"})},231:function(t,s,a){"use strict";a.r(s);a(179),a(181),a(89);var n={data:function(){return{location:""}},mounted:function(){this.location=location.toString().replace(this.$localePath,"/").replace(/#.*/,"")}},e=a(0),r=Object(e.a)(n,function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vuepress-plugin-redirect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-plugin-redirect","aria-hidden":"true"}},[t._v("#")]),t._v(" vuepress-plugin-redirect "),a("GitHubLink",{attrs:{repo:"vuepress/vuepress-plugin-redirect"}})],1),t._v(" "),a("p",[t._v("VuePress 内置了"),a("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/guide/i18n.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("多语言系统"),a("OutboundLink")],1),t._v("，但你必须提供一个默认语言，否则直接访问 "),a("code",[t._v("/")]),t._v(" 将只能得到 404。然而，提供默认语言往往又意味着不那么友好的项目结构（因为默认语言下的文件会比其他语言低一级），我们有时也希望网站保留 "),a("code",[t._v("/")]),t._v(" 用于更加智能地重定向（比如根据 "),a("code",[t._v("navigator.language")]),t._v(" 判断用户所使用的语言自动定向到相关页面）。"),a("code",[t._v("vuepress-plugin-redirect")]),t._v(" 就是这样一个自动重定向的插件。当然，它所能做的事情不止是自动匹配语言，你可以通过定制你的重定向器实现任何页面到子页面的重定向。")]),t._v(" "),a("ClientOnly",[a("p",[t._v("比如，当你在浏览器地址栏中键入 "),a("a",{attrs:{href:t.location}},[a("code",[t._v(t._s(t.location))])]),t._v(" 时，页面将自动重定向到这里。")])]),t._v(" "),a("h2",{attrs:{id:"用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法","aria-hidden":"true"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),a("h3",{attrs:{id:"全局安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局安装","aria-hidden":"true"}},[t._v("#")]),t._v(" 全局安装")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g vuepress-plugin-redirect\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" vuepress-plugin-redirect\n")])])]),a("h3",{attrs:{id:"局部安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#局部安装","aria-hidden":"true"}},[t._v("#")]),t._v(" 局部安装")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" vuepress-plugin-redirect\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" vuepress-plugin-redirect\n")])])]),a("h3",{attrs:{id:"添加到-config-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加到-config-js","aria-hidden":"true"}},[t._v("#")]),t._v(" 添加到 "),a("code",[t._v("config.js")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redirect'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提供多语言重定向功能")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 它会自动从 `/foo/bar/` 定向到 `/:locale/foo/bar/`，如果对应的页面存在")]),t._v("\n      locales"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("或者")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    redirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      redirectors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定制化重定向")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          base"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/plugins/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将 `/my-plugins/` 自动重定向到某个子页面")]),t._v("\n          storage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 保存最后一次访问的结果到 `localStorage`，供下次重定向使用")]),t._v("\n          alternative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 提供一个备选列表，如果都找不到就只能 404 Not Found 喽")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mathjax'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相当于 `/my-plugins/mathjax/`")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'migrate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redirect'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'serve'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),a("h3",{attrs:{id:"locales"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#locales","aria-hidden":"true"}},[t._v("#")]),t._v(" locales")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("类型:")]),t._v(" "),a("code",[t._v("boolean")])]),t._v(" "),a("li",[a("strong",[t._v("默认值:")]),t._v(" "),a("code",[t._v("false")])])]),t._v(" "),a("p",[t._v("是否提供多语言重定向功能。")]),t._v(" "),a("h3",{attrs:{id:"redirectors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redirectors","aria-hidden":"true"}},[t._v("#")]),t._v(" redirectors")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("类型:")]),t._v(" "),a("code",[t._v("Redirector[]")])]),t._v(" "),a("li",[a("strong",[t._v("默认值:")]),t._v(" "),a("code",[t._v("[]")])])]),t._v(" "),a("p",[t._v("自定义的重定向器列表。")]),t._v(" "),a("h3",{attrs:{id:"redirector-base"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redirector-base","aria-hidden":"true"}},[t._v("#")]),t._v(" redirector.base")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("类型:")]),t._v(" "),a("code",[t._v("string")])]),t._v(" "),a("li",[a("strong",[t._v("默认值:")]),t._v(" "),a("code",[t._v("'/'")])])]),t._v(" "),a("p",[t._v("要进行重定向的根地址。")]),t._v(" "),a("h3",{attrs:{id:"redirector-storage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redirector-storage","aria-hidden":"true"}},[t._v("#")]),t._v(" redirector.storage")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("类型:")]),t._v(" "),a("code",[t._v("boolean | string | Storage")])]),t._v(" "),a("li",[a("strong",[t._v("默认值:")]),t._v(" "),a("code",[t._v("false")])])]),t._v(" "),a("p",[t._v("决定重定向的结果被以何种方式存储。如果设为 "),a("code",[t._v("string")]),t._v("，则对应 "),a("code",[t._v("localStorage")]),t._v(" 的键值。如果是对象，则必须包含下面两个方法：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("get(redirector: Redirector): string")])]),t._v(" "),a("li",[a("code",[t._v("set(value: string, redirector: Redirector): void")])])]),t._v(" "),a("p",[t._v("下面提供一个简单的 "),a("code",[t._v("storage")]),t._v(" 对象以供大家参考：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" storage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" base "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" localStorage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'undefined'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redirect:'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" base"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" base "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" localStorage "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'undefined'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n    localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redirect:'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" base"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"redirector-alternative"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redirector-alternative","aria-hidden":"true"}},[t._v("#")]),t._v(" redirector.alternative")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("类型:")]),t._v(" "),a("code",[t._v("string | string[] | ((rel: string) => string | string[])")])]),t._v(" "),a("li",[a("strong",[t._v("默认值:")]),t._v(" "),a("code",[t._v("undefined")])])]),t._v(" "),a("p",[t._v("重定向的备选列表。被请求的网址将被分为 "),a("code",[t._v("base")]),t._v(" 和 "),a("code",[t._v("rel")]),t._v(" 两个部分，"),a("code",[t._v("alternative")]),t._v(" 将插入它们之间。如果是一个函数，将传入 "),a("code",[t._v("rel")]),t._v(" 作为参数。得到的所有结果将被一一尝试，取第一个存在的页面进行重定向。")])],1)},[],!1,null,null,null);s.default=r.exports}}]);